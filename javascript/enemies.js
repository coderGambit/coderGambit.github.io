var heightLimit=200,animator=new Animator,debugCounter=0,debugFPS=60;function FlyMan(t,i){this.scaleY=t,this.scaleX=i,this.spriteSpeedChangeTime=Math.round(60*.015)}function WingMan(t,i){this.scaleY=t,this.scaleX=i,this.totalFlyingTime=600,this.xCurrentPathCounter=0,this.yCurrentPathCounter=0}function SpikeMan(t,i){this.scaleY=t,this.scaleX=i}function Ground(t,i){this.scaleY=t,this.scaleX=i}FlyMan.prototype.drawSprite=function(t,i,e,s,h){h.drawImage(this.img,t*this.singleSpriteWidth,i*this.singleSpriteHeight,this.singleSpriteWidth,this.singleSpriteHeight,e,s,this.drawnWidth,this.drawnHeight)},FlyMan.prototype.switchImage=function(){this.spriteSpeedCurrentTime++===this.spriteSpeedChangeTime&&(this.toggleSpriteImage(),this.spriteSpeedCurrentTime=0)},FlyMan.prototype.createSprite=function(t,i,e,s,h,n){return this.img=t||new Image,this.img.src||(i?(this.img.src=i,this.path=i):console.log("The image has no source, and there was no path specified")),this.singleSpriteWidth=e,this.singleSpriteHeight=s,this.entireSpriteWidth=h,this.entireSpriteHeight=n,this.coloumnCount=Math.floor(this.entireSpriteWidth/this.singleSpriteWidth),this.rowCount=Math.floor(this.entireSpriteHeight/this.singleSpriteHeight),this.currentColumn,this.currentRow,this.spriteSpeedCurrentTime=0,this.drawnWidth=this.singleSpriteWidth/this.scaleX,this.drawnHeight=this.singleSpriteHeight/this.scaleY,this.baseLimit=700-this.drawnHeight,this.goingUp=!1,this.goingDown=!1,this.goingHorizontal=Math.random()>.5,this.animationFinished=!0,this.destination=void 0,this.startValue=void 0,this.distance=void 0,this.currentIteration=0,this.totalIterationTime=void 0,this.isLoaded=!1,this.left,this.right,this.top,this.bottom,this},FlyMan.prototype.calculateBoundingBox=function(){this.left=this.x,this.right=this.left+this.drawnWidth,this.top=this.y,this.bottom=this.top+this.drawnHeight},FlyMan.prototype.initialState=function(t){if(this.x=800,this.y=getRandomInt(heightLimit,this.baseLimit),this.calculateBoundingBox(),this.xDelta=getRandomArbitrary(.5,2),this.drawSprite(0,0,this.x,this.y,t),this.currentColumn=0,this.currentRow=0,!this.isLoaded&&(this.isLoaded=!0),!this.animationFinished||(this.animationFinished=!1),!this.goingHorizontal){var i=Math.random()>.5;this.goingHorizontal=i}},FlyMan.prototype.checkDestination=function(){void 0===this.destination&&(this.goingHorizontal?this.destination=0-this.drawnWidth:this.y<=heightLimit?this.destination=this.baseLimit:this.y>=this.baseLimit?this.destination=heightLimit:this.goingDown?this.destination=this.baseLimit:this.goingUp||Math.random()>.5?this.destination=heightLimit:this.destination=this.baseLimit)},FlyMan.prototype.checkStartValue=function(){this.goingHorizontal?void 0===this.startValue&&(this.startValue=this.x):void 0===this.startValue&&(this.startValue=this.y)},FlyMan.prototype.checkMoveDirection=function(){this.goingDown||this.goingUp||this.goingHorizontal||(this.destination>this.startValue?this.goingDown=!0:this.goingUp=!0)},FlyMan.prototype.move=function(){this.checkDestination(),this.checkStartValue(),void 0===this.distance&&(this.distance=Math.abs(this.destination-this.startValue)),void 0===this.totalIterationTime&&(this.totalIterationTime=this.getIterationTime()),this.checkMoveDirection(),this.goingDown||this.goingUp?this.goingUp?(this.goingDown&&(this.goingDown=!1),this.goUp()):(this.goingUp&&(this.goingUp=!1),this.goDown()):(this.goingDown&&(this.goingDown=!1),this.goingUp&&(this.goingUp=!1),this.goHorizontal())},FlyMan.prototype.getIterationTime=function(){var t=this.baseLimit-heightLimit;return this.distance/t*300},FlyMan.prototype.goUp=function(){this.y=animator.cubicEaseInOut(this.currentIteration++,this.startValue,-this.distance,this.totalIterationTime),this.x-=this.xDelta,this.calculateBoundingBox(),(this.top<=heightLimit||this.currentIteration>this.totalIterationTime)&&(this.goingDown=!0,this.goingUp=!1,this.resetState()),this.isGoneOffLeft()},FlyMan.prototype.goDown=function(){this.y=animator.cubicEaseInOut(this.currentIteration++,this.startValue,this.distance,this.totalIterationTime),this.x-=this.xDelta,this.calculateBoundingBox(),(this.top>=this.baseLimit||this.currentIteration>this.totalIterationTime)&&(this.goingDown=!1,this.goingUp=!0,this.resetState()),this.isGoneOffLeft()},FlyMan.prototype.goHorizontal=function(){this.x=animator.cubicEaseIn(this.currentIteration++,this.startValue,-this.distance,this.totalIterationTime),this.calculateBoundingBox(),(this.left<=this.destination||this.currentIteration>this.totalIterationTime)&&(this.goingHorizontal=void 0,this.resetState()),this.isGoneOffLeft()},FlyMan.prototype.isGoneOffLeft=function(){return this.right<=0&&(this.goingDown=!1,this.goingUp=!1,this.resetState(),!0)},FlyMan.prototype.resetState=function(){this.currentIteration=0,this.distance=void 0,this.destination=void 0,this.startValue=void 0,this.totalIterationTime=void 0,this.x<=0-this.drawnWidth&&(this.animationFinished=!0),addToScore(150/this.scaleX)},FlyMan.prototype.toggleSpriteImage=function(){0===this.currentColumn?this.currentColumn=1:this.currentColumn=0},WingMan.prototype.createSprite=function(t,i,e,s,h,n){return this.img=t||new Image,this.img.src||(i?(this.img.src=i,this.path=i):console.log("The image has no source, and there was no path specified")),this.singleSpriteWidth=e,this.singleSpriteHeight=s,this.entireSpriteWidth=h,this.entireSpriteHeight=n,this.coloumnCount=Math.floor(this.entireSpriteWidth/this.singleSpriteWidth),this.rowCount=Math.floor(this.entireSpriteHeight/this.singleSpriteHeight),this.currentColumn,this.currentRow,this.spriteSpeedCurrentTime=0,this.drawnWidth=this.singleSpriteWidth/this.scaleX,this.drawnHeight=this.singleSpriteHeight/this.scaleY,this.baseLimit=700-this.drawnHeight,this.rightLimit=800-this.drawnWidth,this.spriteSpeedChangeTime=Math.round(3),this.destination=void 0,this.xStartValue=void 0,this.yStartValue=void 0,this.xDistance=void 0,this.yDistance=void 0,this.xCurrentIteration=0,this.yCurrentIteration=0,this.xTotalIterationTime=void 0,this.yTotalIterationTime=void 0,this.entireFlyingTime=0,this.finalTransition=!1,this.animationFinished=!0,this.isLoaded=!1,this.goingUp=void 0,this.goingDown=void 0,this.goingLeft=void 0,this.goingRight=void 0,this.spriteImageGoingDown=!0,this.xPaths=[],this.yPaths=[],this.left,this.right,this.top,this.bottom,this},WingMan.prototype.calculateBoundingBox=function(){this.left=this.x,this.right=this.left+this.drawnWidth,this.top=this.y,this.bottom=this.top+this.drawnHeight},WingMan.prototype.initialState=function(t){this.x=800,this.y=getRandomInt(heightLimit,this.baseLimit),this.calculateBoundingBox(),this.drawSprite(0,0,this.x,this.y,t),this.currentColumn=0,this.currentRow=0,!this.isLoaded&&(this.isLoaded=!0),this.animationFinished&&(this.animationFinished=!1),this.finalTransition&&(this.finalTransition=!1),this.entireFlyingTime=0,this.createPaths(!0,!0)},WingMan.prototype.drawSprite=function(t,i,e,s,h){h.drawImage(this.img,t*this.singleSpriteWidth,i*this.singleSpriteHeight,this.singleSpriteWidth,this.singleSpriteHeight,e,s,this.drawnWidth,this.drawnHeight)},WingMan.prototype.move=function(){this.checkDestination(),this.checkStartValue(),this.checkDistance(),this.checkTotalIterationTime(),this.checkMoveDirection(),this.goingDown?this.goDown():this.goUp(),this.goingLeft?this.goLeft():this.goRight(),++this.entireFlyingTime===this.totalFlyingTime&&this.finalAnimation()},WingMan.prototype.goDown=function(){this.y=animator.cubicEaseInOut(this.yCurrentIteration++,this.yStartValue,this.yDistance,this.yTotalIterationTime),this.calculateBoundingBox(),(this.top>=this.baseLimit||this.yCurrentIteration>this.yTotalIterationTime)&&(this.resetYState(),this.createPaths(!1,!0))},WingMan.prototype.goUp=function(){this.y=animator.cubicEaseInOut(this.yCurrentIteration++,this.yStartValue,-this.yDistance,this.yTotalIterationTime),this.calculateBoundingBox(),(this.top<=heightLimit||this.yCurrentIteration>this.yTotalIterationTime)&&(this.resetYState(),this.createPaths(!1,!0))},WingMan.prototype.goLeft=function(){this.x=animator.cubicEaseInOut(this.xCurrentIteration++,this.xStartValue,-this.xDistance,this.xTotalIterationTime),this.calculateBoundingBox(),this.finalTransition?(this.entireFlyingTime>this.totalFlyingTime+1&&(this.entireFlyingTime=this.totalFlyingTime+1),this.xCurrentIteration>this.xTotalIterationTime&&(this.animationFinished=!0,this.finalTransition=!1,this.resetXState(),this.resetYState(),addToScore(150/this.scaleX))):(this.right<=0||this.xCurrentIteration>this.xTotalIterationTime)&&(this.resetXState(),this.createPaths(!0,!1))},WingMan.prototype.goRight=function(){this.x=animator.cubicEaseInOut(this.xCurrentIteration++,this.xStartValue,this.xDistance,this.xTotalIterationTime),this.calculateBoundingBox(),(this.right>=800||this.xCurrentIteration>this.xTotalIterationTime)&&(this.resetXState(),this.createPaths(!0,!1))},WingMan.prototype.finalAnimation=function(){this.resetXState(),this.resetYState(),this.createFinalPaths(),this.finalTransition=!0},WingMan.prototype.resetYState=function(){this.yCurrentIteration=0,this.yDistance=void 0,this.destination[1]=void 0,this.yStartValue=void 0,this.yTotalIterationTime=void 0,this.yCurrentPathCounter=0},WingMan.prototype.resetXState=function(){this.xCurrentIteration=0,this.xDistance=void 0,this.destination[0]=void 0,this.xStartValue=void 0,this.xTotalIterationTime=void 0,this.xCurrentPathCounter=0},WingMan.prototype.checkDestination=function(){void 0===this.destination?(this.destination=[],this.destination[0]=this.xPaths[this.xCurrentPathCounter++],this.destination[1]=this.yPaths[this.yCurrentPathCounter++]):(void 0===this.destination[0]&&(this.destination[0]=this.xPaths[this.xCurrentPathCounter++]),void 0===this.destination[1]&&(this.destination[1]=this.yPaths[this.yCurrentPathCounter++]))},WingMan.prototype.checkStartValue=function(){this.xStartValue||(this.xStartValue=this.x),this.yStartValue||(this.yStartValue=this.y)},WingMan.prototype.checkDistance=function(){void 0===this.xDistance&&(this.xDistance=Math.abs(this.destination[0]-this.xStartValue)),void 0===this.yDistance&&(this.yDistance=Math.abs(this.destination[1]-this.yStartValue))},WingMan.prototype.checkTotalIterationTime=function(){if(void 0===this.xTotalIterationTime){var t=this.rightLimit-0,i=600;this.xTotalIterationTime=this.xDistance/t*i}if(void 0===this.yTotalIterationTime){t=this.baseLimit-heightLimit,i=300;this.yTotalIterationTime=this.yDistance/t*i}},WingMan.prototype.checkMoveDirection=function(){this.goingDown&&this.goingUp||(this.destination[1]>this.yStartValue?(this.goingUp=!1,this.goingDown=!0):(this.goingUp=!0,this.goingDown=!1)),this.goingLeft&&this.goingRight||(this.destination[0]<this.xStartValue?(this.goingLeft=!0,this.goingRight=!1):(this.goingLeft=!1,this.goingRight=!0))},WingMan.prototype.toggleSpriteImage=function(){switch(this.currentRow){case 0:this.currentRow=1,this.spriteImageGoingDown=!0;break;case 1:!0===this.spriteImageGoingDown?this.currentRow=2:this.currentRow=0;break;case 2:!0===this.spriteImageGoingDown?this.currentRow=3:this.currentRow=1;break;case 3:!0===this.spriteImageGoingDown?this.currentRow=4:this.currentRow=2;break;case 4:this.currentRow=3,this.spriteImageGoingDown=!1}},WingMan.prototype.switchImage=function(){this.spriteSpeedCurrentTime++===this.spriteSpeedChangeTime&&(this.toggleSpriteImage(),this.spriteSpeedCurrentTime=0)},WingMan.prototype.createPaths=function(t,i){for(var e=0;e<8;e++)t&&(this.xPaths[e]=getRandomInt(0,this.rightLimit)),i&&(this.yPaths[e]=getRandomInt(heightLimit,this.baseLimit))},WingMan.prototype.createFinalPaths=function(){for(var t=0-this.singleSpriteWidth+1,i=0;i<8;i++)this.xPaths[i]=t,this.yPaths[i]=getRandomInt(heightLimit,this.baseLimit)},SpikeMan.prototype.createSprite=function(t,i,e,s,h,n){return this.img=t||new Image,this.img.src||(i?(this.img.src=i,this.path=i):console.log("The image has no source, and there was no path specified")),this.singleSpriteWidth=e,this.singleSpriteHeight=s,this.entireSpriteWidth=h,this.entireSpriteHeight=n,this.coloumnCount=Math.floor(this.entireSpriteWidth/this.singleSpriteWidth),this.rowCount=Math.floor(this.entireSpriteHeight/this.singleSpriteHeight),this.currentColumn,this.currentRow,this.spriteSpeedCurrentTime=0,this.drawnWidth=this.singleSpriteWidth/this.scaleX,this.drawnHeight=this.singleSpriteHeight/this.scaleY,this.spriteSpeedChangeTime=Math.round(12),this.destination=void 0,this.startValue=void 0,this.distance=void 0,this.currentIteration=0,this.totalIterationTime=void 0,this.animationFinished=!0,this.isLoaded=!1,this.goingUp=void 0,this.goingDown=void 0,this.goingLeft=void 0,this.goingRight=void 0,this.left,this.right,this.top,this.bottom,this},SpikeMan.prototype.calculateBoundingBox=function(){this.left=this.x,this.right=this.left+this.drawnWidth,this.top=this.y,this.bottom=this.top+this.drawnHeight},SpikeMan.prototype.initialState=function(t){this.x=200,this.y=200,this.calculateBoundingBox(),this.drawSprite(0,0,this.x,this.y,t),this.currentColumn=0,this.currentRow=0,!this.isLoaded&&(this.isLoaded=!0),!this.animationFinished||(this.animationFinished=!1)},SpikeMan.prototype.drawSprite=function(t,i,e,s,h){h.drawImage(this.img,t*this.singleSpriteWidth,i*this.singleSpriteHeight,this.singleSpriteWidth,this.singleSpriteHeight,e,s,this.drawnWidth,this.drawnHeight)},SpikeMan.prototype.move=function(){this.calculateBoundingBox()},SpikeMan.prototype.toggleSpriteImage=function(){},SpikeMan.prototype.switchImage=function(){this.spriteSpeedCurrentTime++===this.spriteSpeedChangeTime&&(this.toggleSpriteImage(),this.spriteSpeedCurrentTime=0)},Ground.prototype.createSprite=function(t,i,e,s,h,n){return this.img=t||new Image,this.img.src||(i?(this.img.src=i,this.path=i):console.log("The image has no source, and there was no path specified")),this.speed=1,this.singleSpriteWidth=e,this.singleSpriteHeight=s,this.entireSpriteWidth=h,this.entireSpriteHeight=n,this.coloumnCount=Math.floor(this.entireSpriteWidth/this.singleSpriteWidth),this.rowCount=Math.floor(this.entireSpriteHeight/this.singleSpriteHeight),this.currentColumn,this.currentRow,this.drawnWidth=this.singleSpriteWidth/this.scaleX,this.drawnHeight=this.singleSpriteHeight/this.scaleY,this.baseLimit=800-this.drawnHeight,this.animationFinished=!0,this.isLoaded=!1,this.left,this.right,this.top,this.bottom,this},Ground.prototype.calculateBoundingBox=function(){this.left=this.x,this.right=this.left+this.drawnWidth,this.top=this.y,this.bottom=this.top+this.drawnHeight},Ground.prototype.initialState=function(t,i,e,s,h){this.x=s,this.y=h,this.calculateBoundingBox(),this.drawSprite(i,e,this.x,this.y,t),this.currentColumn=i,this.currentRow=e,!this.isLoaded&&(this.isLoaded=!0),!this.animationFinished||(this.animationFinished=!1)},Ground.prototype.drawSprite=function(t,i,e,s,h){h.drawImage(this.img,t*this.singleSpriteWidth,i*this.singleSpriteHeight,this.singleSpriteWidth,this.singleSpriteHeight,e,s,this.drawnWidth,this.drawnHeight)},Ground.prototype.move=function(t){this.x-=this.speed,this.calculateBoundingBox(),this.checkPosition(),this.drawSprite(this.currentColumn,this.currentRow,this.x,this.y,t)},Ground.prototype.checkPosition=function(){this.right<=0&&(this.animationFinished=!0)},Ground.prototype.reCalculateWidthScale=function(t){this.drawnWidth=this.singleSpriteWidth/t,this.scaleX=t},Ground.prototype.reCalculateHeightScale=function(t){this.drawnHeight=this.singleSpriteHeight/t,this.scaleY=t,this.baseLimit=800-this.drawnHeight};
//# sourceMappingURL=enemies.js.map
